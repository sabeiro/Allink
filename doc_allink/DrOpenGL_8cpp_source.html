<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Allink: src/DrEffect/DrOpenGL.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Allink
   &#160;<span id="projectnumber">v0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_a3889cb38c390fe2a65f25a20ce85805.html">DrEffect</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DrOpenGL.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;DrEffect.h&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#ifdef __glut_h__</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;DrEffect::DrEffect(){</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  Mat = <span class="keyword">new</span> <a class="code" href="classMatematica.html">Matematica</a>();</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  NChar = 256;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  Hist = (<span class="keywordtype">double</span> **)calloc(<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++){</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    *(Hist + l) = (<span class="keywordtype">double</span> *)calloc(NChar,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    Quart1[l] =  (<span class="keywordtype">unsigned</span> char ) 0;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    Median[l] =  (<span class="keywordtype">unsigned</span> char ) 0;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    Quart3[l] =  (<span class="keywordtype">unsigned</span> char ) 0;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  }</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  <a class="code" href="classDrEffect.html#a98b1050f09da390896f964fb7a892391">Initialize</a>();</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;};</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="classDrEffect.html#aa3eca255b6be227d7d901cc2a72017a5">   15</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classDrEffect.html#aa3eca255b6be227d7d901cc2a72017a5">DrEffect::Run</a>(){</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  <span class="keywordtype">int</span> NStep = 1000;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  <span class="keywordtype">int</span> Acc = -1;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  <span class="keywordtype">int</span> Vel = 100;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  <span class="keywordtype">int</span> Pos = 0.;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  <a class="code" href="classMatrice.html">Matrice</a> *ImIn[3];</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> d=0;d&lt;3;d++){</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    ImIn[d] = <span class="keyword">new</span> <a class="code" href="classMatrice.html">Matrice</a>(ImHeight,<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>);</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  <a class="code" href="classMatrice.html">Matrice</a> *ImOut = <span class="keyword">new</span> <a class="code" href="classMatrice.html">Matrice</a>(ImHeight,<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>);</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;NLevel-1;l++){</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> r=0;r&lt;ImHeight;r++)</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c=0;c&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>;c++)</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;   ImIn[l]-&gt;Set(r,c,(<span class="keywordtype">double</span>)<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(r*ImWidth+c)*NLevel+l]);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  }</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="classDraw.html#a20146731f2945f9b0c25d61e11bb0217">Step</a>=NStep;<a class="code" href="classDraw.html#a20146731f2945f9b0c25d61e11bb0217">Step</a>&gt;0;<a class="code" href="classDraw.html#a20146731f2945f9b0c25d61e11bb0217">Step</a>--){</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;NLevel-1;l++){</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="comment">//     for(int r=0;r&lt;ImHeight;r++){</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="comment">//  int r1 = r + Pos;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="comment">//  if(r1 &gt;= In-&gt;pNRow()) r1 -= ImHeight;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">//  if(r1 &lt; 0) r1 += ImHeight;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">//  for(int c=0;c&lt;Imwidth;c++){</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;     </div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">//    Out-&gt;Set(r1,c,In-&gt;Val(r,c));</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="comment">//  }</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="comment">// }</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      Mat-&gt;<a class="code" href="classMatematica.html#abfaf13060e1740268d65e5a38a410cd6">BackFold</a>(ImIn[l],ImOut,Pos);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> r=0;r&lt;ImHeight;r++)</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c=0;c&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>;c++)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;     <a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(r*ImWidth+c)*NLevel+l] = (<span class="keywordtype">unsigned</span> char)ImOut-&gt;<a class="code" href="classMatrice.html#a2a233d9af97c320a1b372ededf056886">Val</a>(r,c);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    }</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    Vel += Acc;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    Pos += Vel;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">//WritePixel();</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="classDraw.html#a46f9540fd46154cbfd9669ac414dbe2a">WritePngwriter</a>();</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  }</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keyword">delete</span> ImOut;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keyword">delete</span> ImIn;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classDrEffect.html#aadc5a450e9bf79186f43915f10886c0d">   54</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classDrEffect.html#aadc5a450e9bf79186f43915f10886c0d">DrEffect::EffectIncrease</a>(){</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordtype">int</span> Times = 2;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordtype">int</span> SubDiv = Times*Times;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *raster = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)malloc(SubDiv*NLevel*<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">//IncreaseResolution(pixel,raster,ImWidth,ImHeight,Times);</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  free(<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a> *= Times;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  ImHeight *= Times;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)malloc(NLevel*<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  memcpy(<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>,raster,NLevel*<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  free(raster);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">//SubWindow1 = glutCreateSubWindow(MainWindow, 0, 0,width/2,height/2);</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classDrEffect.html#ae52c5b89d732c8cd4c027c2e6d82be39">   68</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classDrEffect.html#ae52c5b89d732c8cd4c027c2e6d82be39">DrEffect::EffectMC</a>(){</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *raster = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)malloc(NLevel*<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordtype">int</span> NGridw = 32;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordtype">int</span> NGridh = 32;<span class="comment">//24;</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordtype">int</span> NStep = NGridw*NGridh/2+30;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">//int NBlock = 4;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordtype">int</span> NPartition = 1;<span class="comment">//(int)(NGridw*NGridh/(double)NStep);</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordtype">int</span> *Sequence = (<span class="keywordtype">int</span> *)calloc(NGridw*NGridh,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="structPERMUTE.html">PERMUTE</a> *Perm = (<a class="code" href="structPERMUTE.html">PERMUTE</a> *)calloc(NGridw*NGridh,<span class="keyword">sizeof</span>(<a class="code" href="structPERMUTE.html">PERMUTE</a>));</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  Mat-&gt;<a class="code" href="classMatematica.html#ab5122ddcd9bce12ff5049a5ad2b5cb6d">PermuteRandomAll</a>(Perm,NGridw*NGridh);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  Mat-&gt;<a class="code" href="classMatematica.html#ab5122ddcd9bce12ff5049a5ad2b5cb6d">PermuteRandomAll</a>(Sequence,NGridw*NGridh/2);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">//for(Step=NStep;Step&gt;0;Step--)</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      SwapBlocks(<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>,raster,<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>,ImHeight,Perm,NGridw,NGridh,Sequence,NPartition);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      Sequence += NPartition;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      memcpy(<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>,raster,NLevel*<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      glutPostRedisplay();</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      printf(<span class="stringliteral">&quot;%d/%d %lf\n&quot;</span>,<a class="code" href="classDraw.html#a20146731f2945f9b0c25d61e11bb0217">Step</a>,NStep,<a class="code" href="classDraw.html#a20146731f2945f9b0c25d61e11bb0217">Step</a>/(<span class="keywordtype">double</span>)NStep);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="comment">//WritePng();</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <a class="code" href="classDraw.html#a289d8cd3100d77331ac7879eedcfcad0">WritePixel</a>();</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  free(Perm);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  free(raster);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">//free(Sequence);</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classDrEffect.html#aab090cce7962df824dd04060dc002bc2">   94</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classDrEffect.html#aab090cce7962df824dd04060dc002bc2">DrEffect::EffectCoarseGrain</a>(<span class="keywordtype">int</span> Grana){</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *raster = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)malloc(4*<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordtype">int</span> NStep = 8;<span class="comment">//NGridw*NGridh/2;</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordtype">int</span> *Sequence = (<span class="keywordtype">int</span> *)calloc(NStep*NStep,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordtype">int</span> Discrx = 1;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordtype">int</span> Discry = 1;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordtype">int</span> TtWidth = (int)(<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>/(<span class="keywordtype">double</span>)NStep);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordtype">int</span> TtHeight = (int)(ImHeight/(<span class="keywordtype">double</span>)NStep);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordtype">int</span> TWidth = 0;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordtype">int</span> THeight= 0;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> m=Grana;m&gt;=0;m--){</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    Discrx *= 2;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    Discry *= 2;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">int</span> m = 0;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    Mat-&gt;<a class="code" href="classMatematica.html#ab5122ddcd9bce12ff5049a5ad2b5cb6d">PermuteRandomAll</a>(Sequence,NStep*NStep);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    THeight = 0;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    TWidth = 0;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">int</span> n=0;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">for</span>(<a class="code" href="classDraw.html#a20146731f2945f9b0c25d61e11bb0217">Step</a>=NStep*NStep*(m+1);<a class="code" href="classDraw.html#a20146731f2945f9b0c25d61e11bb0217">Step</a>&gt;NStep*NStep*m;<a class="code" href="classDraw.html#a20146731f2945f9b0c25d61e11bb0217">Step</a>--,n++)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      THeight = (int)(((Sequence[n])/(<span class="keywordtype">double</span>)NStep))*TtHeight;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      TWidth = ((Sequence[n]%NStep))*TtWidth;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      memcpy(raster,<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>,4*<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <span class="keywordtype">int</span> nPos = ((THeight)*<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a> + (TWidth))*NLevel;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="comment">//int nPos = ((THeight-TtHeight)*ImWidth + (TWidth-TtWidth))*NLevel;</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="comment">//printf(&quot;(%d %d) (%d %d) %d %d %d %d %d\n&quot;,TWidth,THeight,ImWidth,ImHeight,Discrx,Discry,Sequence[n],nPos,(ImHeight*ImWidth + (ImWidth))*NLevel);</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      Discretize(<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>+nPos,raster+nPos,<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>,ImHeight,TtWidth,TtHeight,Discrx,Discry);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">if</span>((n+1)%NStep==0){</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   THeight+= TtHeight;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   TWidth = 0;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      TWidth += TtWidth;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      memcpy(<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>,raster,4*<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      glutPostRedisplay();</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="comment">//printf(&quot;%d/%d %lf\n&quot;,Step,NStep,Step/(double)NStep);</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="comment">//WritePng();</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="comment">//WritePixel();</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  free(raster);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">//free(Sequence);</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keywordtype">void</span> DrEffect::NablaPhi(){</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">if</span>(Median[0] == 0){printf(<span class="stringliteral">&quot;Create an histogram before\n&quot;</span>);<span class="keywordflow">return</span>;}</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="structSPLINE.html">SPLINE</a> Weight;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  Weight.<a class="code" href="structSPLINE.html#ad95dcba445836b4ba94129111a4b888c">a0</a> = 0.;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  Weight.<a class="code" href="structSPLINE.html#a5d015a3751aec61f2442b957cb6f517a">a1</a> = 1.; Weight.<a class="code" href="structSPLINE.html#ac55c2d269ed76bd9bdb7fb25f3533a4e">a2</a> = 0.;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  Weight.<a class="code" href="structSPLINE.html#aac922a785af4fb14fc828152cd94c34e">a3</a> = 0.; Weight.<a class="code" href="structSPLINE.html#ac6ef178808a2e015c97d93c99e52a441">a4</a> = 0.;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="classMatrice.html">Matrice</a> *Mask = <span class="keyword">new</span> <a class="code" href="classMatrice.html">Matrice</a>(Weight,3);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  Mask-&gt;<a class="code" href="classMatrice.html#a9dcac18006ce057b8d78c847174c1362">Print</a>();</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="classMatrice.html">Matrice</a> *ImIn = <span class="keyword">new</span> <a class="code" href="classMatrice.html">Matrice</a>(ImHeight,<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  Phi = (<span class="keywordtype">double</span> **)calloc(2,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;2;i++)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    *(Phi+i) = (<span class="keywordtype">double</span> *)calloc(<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> r=0;r&lt;ImHeight;r++)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c=0;c&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>;c++){</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="keywordtype">int</span> i = r*ImWidth+c;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordtype">double</span> Val = (<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[i*<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>]==0?1.:(double)<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[i*NLevel])/(double)Median[0];</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      Phi[0][i] = log10(Val);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    ImIn-&gt;<a class="code" href="classMatrice.html#a3caf89cd6f9ccd16fcdc6a6c57039c2f">Set</a>(r,c,Phi[0][i]);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  Mat-&gt;<a class="code" href="classMatematica.html#a486baea1c22d2accfe267ef415b3abaf">ApplyFilter</a>(ImIn,Mask);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  Mask-&gt;<a class="code" href="classMatrice.html#a109318636af36bc89e9853f19e4369e2">Transpose</a>();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  Mat-&gt;<a class="code" href="classMatematica.html#a486baea1c22d2accfe267ef415b3abaf">ApplyFilter</a>(ImIn,Mask);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> r=0;r&lt;ImHeight;r++)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c=0;c&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>;c++)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      Phi[1][r*ImWidth+c] = ImIn-&gt;<a class="code" href="classMatrice.html#a2a233d9af97c320a1b372ededf056886">Val</a>(r,c);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  free(Mask);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  free(ImIn);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  printf(<span class="stringliteral">&quot;Fatto\n&quot;</span>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classDrEffect.html#a62e60652a984dcd65b592fde6e89ddbc">  168</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classDrEffect.html#a62e60652a984dcd65b592fde6e89ddbc">DrEffect::EffectFilter</a>(){</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">//Mat-&gt;Binary(pixel,width,height,100);return;</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">//Mat-&gt;Contrast(pixel,width,height);return;</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <a class="code" href="structSPLINE.html">SPLINE</a> Weight;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  Weight.<a class="code" href="structSPLINE.html#ad95dcba445836b4ba94129111a4b888c">a0</a> = 0.;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  Weight.<a class="code" href="structSPLINE.html#a5d015a3751aec61f2442b957cb6f517a">a1</a> = 1.; Weight.<a class="code" href="structSPLINE.html#ac55c2d269ed76bd9bdb7fb25f3533a4e">a2</a> = 0.;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  Weight.<a class="code" href="structSPLINE.html#aac922a785af4fb14fc828152cd94c34e">a3</a> = 0.; Weight.<a class="code" href="structSPLINE.html#ac6ef178808a2e015c97d93c99e52a441">a4</a> = 0.;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="classMatrice.html">Matrice</a> *Mask = <span class="keyword">new</span> <a class="code" href="classMatrice.html">Matrice</a>(Weight,3);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordtype">double</span> Sigma = .5;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordtype">double</span> CutOff = 3.;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">//  Mask-&gt;FillGaussian(Sigma,CutOff);</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  Mask-&gt;<a class="code" href="classMatrice.html#a9dcac18006ce057b8d78c847174c1362">Print</a>();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="classMatrice.html">Matrice</a> *ImIn = <span class="keyword">new</span> <a class="code" href="classMatrice.html">Matrice</a>(ImHeight,<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">//int l=1;</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;NLevel-1;l++){</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> r=0;r&lt;ImHeight;r++)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c=0;c&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>;c++)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   ImIn-&gt;<a class="code" href="classMatrice.html#a3caf89cd6f9ccd16fcdc6a6c57039c2f">Set</a>(r,c,(<span class="keywordtype">double</span>)<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(r*ImWidth+c)*NLevel+l]);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    Mat-&gt;<a class="code" href="classMatematica.html#a486baea1c22d2accfe267ef415b3abaf">ApplyFilter</a>(ImIn,Mask);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// Mask-&gt;Transpose();</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// Mat-&gt;ApplyFilter(ImIn,Mask);</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> r=0;r&lt;ImHeight;r++)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c=0;c&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>;c++)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(r*ImWidth+c)*NLevel+l] = (<span class="keywordtype">unsigned</span> char)ImIn-&gt;<a class="code" href="classMatrice.html#a2a233d9af97c320a1b372ededf056886">Val</a>(r,c);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keyword">delete</span> Mask;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keyword">delete</span> ImIn;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classDrEffect.html#a3106c4097c47a929b15fb0bf788b161d">  197</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classDrEffect.html#a3106c4097c47a929b15fb0bf788b161d">DrEffect::EffectMotion</a>(){</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="classMatrice.html">Matrice</a> *ImIn = <span class="keyword">new</span> <a class="code" href="classMatrice.html">Matrice</a>(ImHeight,<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="classMatrice.html">Matrice</a> *ImOut = <span class="keyword">new</span> <a class="code" href="classMatrice.html">Matrice</a>(ImHeight,<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;NLevel-1;l++){</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> r=0;r&lt;ImHeight;r++)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c=0;c&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>;c++)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   ImIn-&gt;<a class="code" href="classMatrice.html#a3caf89cd6f9ccd16fcdc6a6c57039c2f">Set</a>(r,c,(<span class="keywordtype">double</span>)<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(r*ImWidth+c)*NLevel+l]);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    Mat-&gt;<a class="code" href="classMatematica.html#abfaf13060e1740268d65e5a38a410cd6">BackFold</a>(ImIn,ImOut,120);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> r=0;r&lt;ImHeight;r++)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> c=0;c&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>;c++)</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(r*ImWidth+c)*NLevel+l] = (<span class="keywordtype">unsigned</span> char)ImOut-&gt;<a class="code" href="classMatrice.html#a2a233d9af97c320a1b372ededf056886">Val</a>(r,c);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keyword">delete</span> ImOut;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keyword">delete</span> ImIn;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}  </div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keywordtype">void</span> DrEffect::Histo(){</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordtype">double</span> Area[4] = {0.,0.,0.,0.};</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++){</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;NChar;i++){</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      Hist[l][i] = 0.000001;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;3;l++){</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> h=0;h&lt;ImHeight; h++) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> w=0;w&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>; w++) {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keywordtype">int</span> Intens = (int)<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(h*ImWidth+w)*NLevel +l];</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   <span class="comment">//if( Intens &lt;= 0 || Intens &gt;= NChar -1){ continue;}</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   Hist[l][Intens] += 1.;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   Area[l] += 1.;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordtype">double</span> Max[4] = {0.,0.,0.,0.};</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;NChar;i++){</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">if</span>(Max[l] &lt; Hist[l][i])</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   Max[l] =  Hist[l][i] ;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++){</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordtype">double</span> dMedian = 0.;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">int</span> Fatto[3] = {0,0,0};</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;NChar;i++){</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="comment">//      Hist[l][i] /= Max[l] &gt; 0. ? Max[l] : 1.;</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      Hist[l][i] /= Area[l] &gt; 0. ? Area[l] : 1.;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      dMedian += Hist[l][i];</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="keywordflow">if</span>(dMedian &gt; .25 &amp;&amp; !Fatto[0]){</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   Quart1[l] = i;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   Fatto[0] = 1;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">if</span>(dMedian &gt; .5 &amp;&amp; !Fatto[1]){</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   Median[l] = i;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   Fatto[1] = 1;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">if</span>(dMedian &gt; .75 &amp;&amp; !Fatto[2]){</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   Quart3[l] = i;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   Fatto[2] = 1;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="comment">//printf(&quot;%d %d %lf Quartiles %d %d %d\n&quot;,l,i,Hist[l][i],Quart1[l],Median[l],Quart3[l]);</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">//PrintIntensity();</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keywordtype">void</span> DrEffect::PrintIntensity(){</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  FILE *Ciccia = fopen(<span class="stringliteral">&quot;Intensity.dat&quot;</span>,<span class="stringliteral">&quot;w&quot;</span>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;3;l++)</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> h=0;h&lt;ImHeight; h++) </div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> w=0;w&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>; w++) </div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   fprintf(Ciccia,<span class="stringliteral">&quot;%d %lf %lf %lf&quot;</span>,(h*ImWidth+w),(<span class="keywordtype">double</span>)<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(h*ImWidth+w)*NLevel +0],(<span class="keywordtype">double</span>)<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(h*ImWidth+w)*NLevel +1],(<span class="keywordtype">double</span>)<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(h*ImWidth+w)*NLevel +2]);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  fclose(Ciccia);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keywordtype">void</span> DrEffect::BlackWhite(){</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> h=0;h&lt;ImHeight; h++) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> w=0;w&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>; w++) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordtype">double</span> Temp = 0.;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;3;l++)</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   Temp += (<span class="keywordtype">double</span>)<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(h*ImWidth+w)*NLevel +l];</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;3;l++)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   <a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[(h*ImWidth+w)*4 +l] = (GLubyte)(Temp*.333);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keywordtype">int</span> DrEffect::Binary(<span class="keywordtype">int</span> Mode){</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  Histo();</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;3;l++){</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight;i++){</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[i*NLevel+l] &lt; Median[l])</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[i*NLevel+l] = (<span class="keywordtype">unsigned</span> char)0;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="keywordflow">else</span> </div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   <a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[i*NLevel+l] = (<span class="keywordtype">unsigned</span> char)255;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keywordtype">int</span> DrEffect::Contrast(){</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  Histo();</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordtype">double</span> Factor[<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>];</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordtype">double</span> Min[<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>];</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++){</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    Factor[l]  = .1*(double)NChar/(<span class="keywordtype">double</span>)((Quart3[l] - Quart1[l]));</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    Min[l] = (double) Quart1[l];</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++){</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>*ImHeight;i++){</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordtype">double</span> dNew = (double)<a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[i*NLevel+l]*Factor[l];<span class="comment">// - Min[l];</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> New = dNew &gt; 0. ? (<span class="keywordtype">unsigned</span> char) dNew : 0;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <a class="code" href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">pixel</a>[i*NLevel+l] = New;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keywordtype">int</span> DrEffect::SwapBlocks(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="classDraw.html#a45ed15a0527d5ba75107645dc8467078">Picture</a>,<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *OutPicture,<span class="keywordtype">int</span> width,<span class="keywordtype">int</span> height,<a class="code" href="structPERMUTE.html">PERMUTE</a> *Perm,<span class="keywordtype">int</span> NGridw,<span class="keywordtype">int</span> NGridh,<span class="keywordtype">int</span> *Sequence,<span class="keywordtype">int</span> NPartition){</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordtype">int</span> Stepw = (int)(width/NGridw);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordtype">int</span> Steph = (int)(height/NGridh);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  memcpy(OutPicture,Picture,4*width*height);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p=0;p&lt;NPartition;p++){</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordtype">int</span> PSwap = Sequence[p];</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordtype">int</span> vw1 = (int)(PSwap/(<span class="keywordtype">double</span>)NGridw);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordtype">int</span> vh1 = PSwap%NGridh;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordtype">int</span> w1 = vw1*Stepw;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordtype">int</span> h1 = vh1*Steph;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordtype">int</span> vw2 = (int)(Perm[PSwap].m/(<span class="keywordtype">double</span>)NGridw);<span class="comment">//(int)(Sequence[PSwap]/(double)NGridw);</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">int</span> vh2 = Perm[PSwap].<a class="code" href="structPERMUTE.html#a742204794ea328ba293fe59cec79b990">m</a>%NGridh;<span class="comment">//Sequence[PSwap]%NGridh;</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordtype">int</span> w2 = vw2*Stepw;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordtype">int</span> h2 = vh2*Steph;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> vw=0;vw&lt;Stepw;vw++){</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> vh=0;vh&lt;Steph;vh++){</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordtype">int</span> Pos1 = (vw+w1) + (vh + h1)*width;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <span class="keywordtype">int</span> Pos2 = (vw+w2) + (vh + h2)*width;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="keywordflow">if</span>(Pos1 &lt; 0 || Pos1 &gt;= width*height) {printf(<span class="stringliteral">&quot;Width out of range 0&lt;=%d&lt;%d\n&quot;</span>,Pos1,width);<span class="keywordflow">continue</span>;}</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordflow">if</span>(Pos2 &lt; 0 || Pos2 &gt;= width*height) {printf(<span class="stringliteral">&quot;Height out of range 0&lt;=%d&lt;%d\n&quot;</span>,Pos2,height);<span class="keywordflow">continue</span>;}</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++){</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;     OutPicture[Pos1*NLevel+l] = Picture[Pos2*NLevel+l];</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;     OutPicture[Pos2*NLevel+l] = Picture[Pos1*NLevel+l];</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="keywordtype">int</span> DrEffect::ShiftBlocks(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *Picture,<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *OutPicture,<span class="keywordtype">int</span> width,<span class="keywordtype">int</span> height,<span class="keywordtype">int</span> *Sequence,<span class="keywordtype">int</span> NGridw,<span class="keywordtype">int</span> NGridh,<span class="keywordtype">int</span> *Sequence1,<span class="keywordtype">int</span> NPartition){</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordtype">int</span> Stepw = (int)(width/NGridw);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordtype">int</span> Steph = (int)(height/NGridh);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">//memcpy(OutPicture,Picture,4*width*height);</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> wi=0;wi&lt;width;wi++){</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordtype">int</span> vw = (int) (wi/(<span class="keywordtype">double</span>)width*NGridw);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> hi=0;hi&lt;height;hi++){</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keywordtype">int</span> vh = (int) (hi/(<span class="keywordtype">double</span>)height*NGridh);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordtype">int</span> PosIn = vw*NGridh + vh;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordtype">int</span> PosOut = Sequence[PosIn];</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="keywordtype">int</span> vvw = (int)(PosOut/(<span class="keywordtype">double</span>)NGridw);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordtype">int</span> vvh = PosOut%NGridh;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordtype">int</span> wo = wi - (vw - vvw)*Stepw;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordtype">int</span> ho = hi - (vh - vvh)*Steph;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="comment">//printf(&quot;%d %d -&gt; %d %d / %d %d, %d %d -&gt; %d %d / %d %d\n&quot;,wi,hi,wo,ho,width,height,vw,vh,vvw,vvh,Stepw,Steph);</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">if</span>(wo &lt; 0 || wo &gt;= width) {printf(<span class="stringliteral">&quot;Width out of range 0&lt;=%d&lt;%d\n&quot;</span>,wo,width);<span class="keywordflow">continue</span>;}</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">if</span>(ho &lt; 0 || ho &gt;= height) {printf(<span class="stringliteral">&quot;Height out of range 0&lt;=%d&lt;%d\n&quot;</span>,ho,height);<span class="keywordflow">continue</span>;}</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++){</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   OutPicture[(ho*width+wo)*NLevel+l] = Picture[(hi*width+wi)*NLevel+l];</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  free(Sequence);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="keywordtype">int</span> DrEffect::Discretize(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *Picture,<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *OutPicture,<span class="keywordtype">int</span> <a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>,<span class="keywordtype">int</span> ImHeight,<span class="keywordtype">int</span> WWidth,<span class="keywordtype">int</span> WHeight,<span class="keywordtype">int</span> Blockw,<span class="keywordtype">int</span> Blockh){</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> wo=0;wo&lt;WWidth;wo+=Blockw){</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ho=0;ho&lt;WHeight;ho+=Blockh){</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++){</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <span class="keywordtype">double</span> ColAverage=0.;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bwi=0;bwi&lt;Blockw;bwi++){</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bhi=0;bhi&lt;Blockh;bhi++){</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;       <span class="keywordtype">int</span> wi = wo + bwi;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;       <span class="keywordtype">int</span> hi = ho + bhi;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;       ColAverage += (double)Picture[(hi*ImWidth+wi)*NLevel+l];</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;     }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   ColAverage /= (double)(Blockw*Blockh);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bwi=0;bwi&lt;Blockw;bwi++){</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bhi=0;bhi&lt;Blockh;bhi++){</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;       <span class="keywordtype">int</span> wi = wo + bwi;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;       <span class="keywordtype">int</span> hi = ho + bhi;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;       OutPicture[(hi*ImWidth+wi)*NLevel+l] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) ColAverage;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;     }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="keywordtype">int</span> DrEffect::IncreaseResolution(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *Picture,<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *OutPicture,<span class="keywordtype">int</span> ImWidth,<span class="keywordtype">int</span> ImHeight,<span class="keywordtype">int</span> Times){</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordtype">int</span> OutWidth = ImWidth*Times;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordtype">int</span> OutHeight = ImHeight*Times;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordtype">double</span> DeltaIn=1./(double)(ImWidth-1);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordtype">double</span> DeltaOut=1./(double)(OutWidth-1);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordtype">int</span> NOrder = 3+1;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordtype">double</span> *dArray = (<span class="keywordtype">double</span> *)calloc(ImWidth+NOrder+1,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p=0;p&lt;=ImWidth+NOrder;p++){</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span>(p&lt;NOrder){</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      dArray[p] = 0;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( (NOrder&lt;=p) &amp;&amp; (p&lt;=<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>) ){</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      dArray[p] = (p-NOrder+1)*DeltaIn;<span class="comment">//Pm[p-NOrder].Pos[CLat1];//</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p&gt;ImWidth){</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      dArray[p] = (p-NOrder+2)*DeltaIn;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">//   for(int vo=0;vo&lt;ImWidth;vo++){</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">//    for(int vvo=0;vvo&lt;ImHeight;vvo++){</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">//      PlOut[vo][vvo] = 0.;</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">//      double x = DeltaOut*vo;</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">//      //for(int vi=0;vi&lt;NIn;vi++){</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">//      for(int vi=vo-1;vi&lt;vo+NOrder+1;vi++){</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">//        if(vi &lt; 0 || vi &gt;= ImWidth) continue;</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">//        double Blendx = Blend(dArray,x,vi,NOrder);</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">//        double y = DeltaOut*vvo;</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">//        //for(int vvi=0;vvi&lt;NIn;vvi++){</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">//        for(int vvi=vvo-1;vvi&lt;vvo+NOrder+1;vvi++){</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">//     if(vvi &lt; 0 || vvi &gt;= ImWidth) continue;</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">//     double Blendy = Mat-&gt;Blend(dArray,y,vvi,NOrder);</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">//     PlOut[vo][vvo] += Blendx*Blendy * PlIn[vi][vvi];</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">//        }</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">//      }</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">//    }</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">//   }</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++){</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> w=0;w&lt;<a class="code" href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">ImWidth</a>;w++){</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> h=0;h&lt;ImHeight;h++){</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="keywordtype">int</span> ho = h*Times;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <span class="keywordtype">int</span> wo = w*Times;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordflow">if</span>(w&gt;0 &amp;&amp; h&gt;0)</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;     OutPicture[((ho+0)*OutWidth+(wo+0))*NLevel+l] = </div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;       .5*(Picture[( (h+0)*ImWidth+(w-1) )*NLevel+l] + </div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      Picture[( (h-1)*ImWidth+(w+0) )*NLevel+l]);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordflow">if</span>(h&gt;0 &amp;&amp; w&lt;ImWidth-1)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;     OutPicture[( (ho+0)*OutWidth+(wo+1))*NLevel+l] = </div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;       .5*(Picture[( (h+0)*ImWidth+(w+1) )*NLevel+l] + </div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      Picture[( (h-1)*ImWidth+(w+0) )*NLevel+l]);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   <span class="keywordflow">if</span>(h&lt;ImHeight-1 &amp;&amp; w&lt;ImWidth-1)  </div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;     OutPicture[( (ho+1)*OutWidth+(wo+1))*NLevel+l] = </div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;       .5*(Picture[( (h+0)*ImWidth+(w+1) )*NLevel+l] + </div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      Picture[( (h+1)*ImWidth+(w+0) )*NLevel+l]);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keywordflow">if</span>(h&lt;ImHeight-1 &amp;&amp; w&gt;0)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;     OutPicture[( (ho+1)*OutWidth+(wo+0))*NLevel+l] = </div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;       .5*(Picture[( (h+0)*ImWidth+(w-1) )*NLevel+l] + </div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      Picture[( (h+1)*ImWidth+(w+0) )*NLevel+l]);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;     }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="keywordtype">int</span> DrEffect::Noise(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *Picture,<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *OutPicture,<span class="keywordtype">int</span> width,<span class="keywordtype">int</span> height){</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordtype">int</span> NMaskh = 3;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordtype">int</span> NMaskw = 3;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordtype">double</span> Mask[3][3];</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="comment">//unsigned char * raster = (unsigned char *) malloc(sizeof(unsigned char) * width * height * 4);</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordtype">double</span> Det = 1./9.;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  Mask[0][0] = 1; Mask[0][1] = 1; Mask[0][2] = 1;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  Mask[1][0] = 1; Mask[1][1] = 1; Mask[1][2] = 1;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  Mask[2][0] = 1; Mask[2][1] = 1; Mask[2][2] = 1;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  Det = 1./10.;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  Mask[0][0] = 1; Mask[0][1] = 1; Mask[0][2] = 1;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  Mask[1][0] = 1; Mask[1][1] = 2; Mask[1][2] = 1;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  Mask[2][0] = 1; Mask[2][1] = 1; Mask[2][2] = 1;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  Det = 1./16.;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  Mask[0][0] = 1; Mask[0][1] = 2; Mask[0][2] = 1;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  Mask[1][0] = 2; Mask[1][1] = 4; Mask[1][2] = 2;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  Mask[2][0] = 1; Mask[2][1] = 2; Mask[2][2] = 1;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="comment">//Gaussian   </span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// Det = 1./249.;</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">//   3 6  8   6 3</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="comment">//   6 14 19 14 6 </span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="comment">//   8 19 25 19 8                </span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">//   6 14 19 14 6 </span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">//   3 6  8   6 3</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++){</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> h=0;h&lt;height-NMaskh; h++) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> w=0;w&lt;width-NMaskw; w++) {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   OutPicture[(h*width+w)*NLevel +l] = 0;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> lh=0;lh&lt;NMaskh;lh++){</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> lw=0;lw&lt;NMaskw;lw++){</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;       OutPicture[(h*width+w)*NLevel +l] += (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                         Mask[lh][lw]*Picture[((h+lh)*width+(w+lw))*NLevel +l]*Det);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;     }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      </div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="keywordtype">int</span> DrEffect::Edges(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *Picture,<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *OutPicture,<span class="keywordtype">int</span> width,<span class="keywordtype">int</span> height){</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordtype">int</span> NMaskh = 3;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordtype">int</span> NMaskw = 3;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">//unsigned char *raster = (unsigned char *)malloc(width*height*NLevel*sizeof(unsigned char));</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordtype">double</span> Mask[3][3];</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordtype">double</span> Det = 1./4.;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  Mask[0][0] = 1; Mask[0][1] = 0; Mask[0][2] = -1;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  Mask[1][0] = 2; Mask[1][1] = 0; Mask[1][2] = -2;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  Mask[2][0] = 1; Mask[2][1] = 0; Mask[2][2] = -1;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">//Gradiente per riga</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++)</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="comment">//int l=2;</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> h=0;h&lt;height-NMaskh; h++) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> w=0;w&lt;width-NMaskw; w++) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;     OutPicture[(h*width+w)*NLevel +l] = 0;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;     <span class="keywordtype">double</span> Temp=0.;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> lh=0;lh&lt;NMaskh;lh++){</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> lw=0;lw&lt;NMaskw;lw++){</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;         <span class="keywordflow">if</span>(h+lh-1 &lt;0 ) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;         <span class="keywordflow">if</span>(w+lw-1&lt;0 ) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;         <span class="keywordflow">if</span>(h+lh-1 &gt; height-1) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;         <span class="keywordflow">if</span>(w+lw-1 &gt; width-1) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;         Temp +=  ASS((Mask[lh][lw]*Picture[((h+lh-1)*width+(w+lw-1))*NLevel +l]*Det));</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;         <span class="comment">//OutPicture[(h*width+w)*NLevel +l] += (unsigned char)(ASS((Mask[lh][lw]*Picture[((h+lh-1)*width+(w+lw-1))*NLevel +l]*Det)));</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;       }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;     }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;     OutPicture[(h*width+w)*NLevel +l] += (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) Temp;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">//Gradiente per colonna</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> l=0;l&lt;<a class="code" href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">NLevel</a>;l++)</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="comment">//int l=2;</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> h=0;h&lt;height-NMaskh; h++) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> w=0;w&lt;width-NMaskw; w++) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;     <span class="keywordtype">double</span> Temp=0.;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> lh=NMaskh;lh&gt;0;lh--){</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> lw=0;lw&lt;NMaskw;lw++){</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;         <span class="keywordflow">if</span>(h+lh-1 &lt;0 ) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;         <span class="keywordflow">if</span>(w+lw-1&lt;0 ) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;         <span class="keywordflow">if</span>(h+lh-1 &gt; height-1) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;         <span class="keywordflow">if</span>(w+lw-1 &gt; width-1) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;         <span class="comment">//OutPicture[(h*width+w)*NLevel +l] += (unsigned char)(ASS((Mask[lw][lh]*Picture[((h+lh-1)*width+(w+lw-1))*NLevel +l]*Det)));</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;         Temp +=  ASS((Mask[lw][lh]*Picture[((h+lh-1)*width+(w+lw-1))*NLevel +l]*Det));</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;       }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;     }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;     OutPicture[(h*width+w)*NLevel +l] += (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) Temp;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="keywordtype">void</span> DrEffect::DrEkeyboard(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> key){</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">switch</span> (key){</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    glutPostRedisplay();</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    glutPostRedisplay();</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    glutPostRedisplay();</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    glutPostRedisplay();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    glutPostRedisplay();</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">case</span> 27:</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    exit(0);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">case</span> 40:</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="classDraw.html#a60d9d96dd62e71bfe22654f9d58f834b">keyboardDraw</a>(key);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="preprocessor">#endif// __glut_h__</span></div><div class="ttc" id="structSPLINE_html_ac6ef178808a2e015c97d93c99e52a441"><div class="ttname"><a href="structSPLINE.html#ac6ef178808a2e015c97d93c99e52a441">SPLINE::a4</a></div><div class="ttdeci">double a4</div><div class="ttdoc">a0 + a1*x + a2*x^2 + a3*x^3 + a4^4 </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaStruct_8h_source.html#l00114">MatematicaStruct.h:114</a></div></div>
<div class="ttc" id="structPERMUTE_html_a742204794ea328ba293fe59cec79b990"><div class="ttname"><a href="structPERMUTE.html#a742204794ea328ba293fe59cec79b990">PERMUTE::m</a></div><div class="ttdeci">int m</div><div class="ttdoc">Second number of the couple. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaStruct_8h_source.html#l00101">MatematicaStruct.h:101</a></div></div>
<div class="ttc" id="classMatematica_html_abfaf13060e1740268d65e5a38a410cd6"><div class="ttname"><a href="classMatematica.html#abfaf13060e1740268d65e5a38a410cd6">Matematica::BackFold</a></div><div class="ttdeci">void BackFold(Matrice *In, Matrice *Out, int NShift)</div><div class="ttdoc">Shift all the rows upwards/downwards. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaFilter_8cpp_source.html#l00173">MatematicaFilter.cpp:173</a></div></div>
<div class="ttc" id="classDrEffect_html_aa3eca255b6be227d7d901cc2a72017a5"><div class="ttname"><a href="classDrEffect.html#aa3eca255b6be227d7d901cc2a72017a5">DrEffect::Run</a></div><div class="ttdeci">void Run()</div><div class="ttdoc">Create an animation. </div><div class="ttdef"><b>Definition:</b> <a href="DrOpenGL_8cpp_source.html#l00015">DrOpenGL.cpp:15</a></div></div>
<div class="ttc" id="classDrEffect_html_aab090cce7962df824dd04060dc002bc2"><div class="ttname"><a href="classDrEffect.html#aab090cce7962df824dd04060dc002bc2">DrEffect::EffectCoarseGrain</a></div><div class="ttdeci">void EffectCoarseGrain(int Grana)</div><div class="ttdoc">Defocus the images in blocks. </div><div class="ttdef"><b>Definition:</b> <a href="DrOpenGL_8cpp_source.html#l00094">DrOpenGL.cpp:94</a></div></div>
<div class="ttc" id="classDraw_html_a46f9540fd46154cbfd9669ac414dbe2a"><div class="ttname"><a href="classDraw.html#a46f9540fd46154cbfd9669ac414dbe2a">Draw::WritePngwriter</a></div><div class="ttdeci">int WritePngwriter()</div><div class="ttdoc">Write a png file of the data in pixel (uses libpngwriter) </div><div class="ttdef"><b>Definition:</b> <a href="DrawFile_8cpp_source.html#l00277">DrawFile.cpp:277</a></div></div>
<div class="ttc" id="structPERMUTE_html"><div class="ttname"><a href="structPERMUTE.html">PERMUTE</a></div><div class="ttdoc">Indices for the permutation. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaStruct_8h_source.html#l00097">MatematicaStruct.h:97</a></div></div>
<div class="ttc" id="classMatematica_html_ab5122ddcd9bce12ff5049a5ad2b5cb6d"><div class="ttname"><a href="classMatematica.html#ab5122ddcd9bce12ff5049a5ad2b5cb6d">Matematica::PermuteRandomAll</a></div><div class="ttdeci">int PermuteRandomAll(int *Sequence, int NMass)</div><div class="ttdoc">Permutes a sequence without repeating. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaFilter_8cpp_source.html#l00050">MatematicaFilter.cpp:50</a></div></div>
<div class="ttc" id="classDraw_html_a45ed15a0527d5ba75107645dc8467078"><div class="ttname"><a href="classDraw.html#a45ed15a0527d5ba75107645dc8467078">Draw::Picture</a></div><div class="ttdeci">int Picture()</div><div class="ttdoc">Write a tiff file of the data in pixel. </div><div class="ttdef"><b>Definition:</b> <a href="DrawFile_8cpp_source.html#l00183">DrawFile.cpp:183</a></div></div>
<div class="ttc" id="classDrEffect_html_a3106c4097c47a929b15fb0bf788b161d"><div class="ttname"><a href="classDrEffect.html#a3106c4097c47a929b15fb0bf788b161d">DrEffect::EffectMotion</a></div><div class="ttdeci">void EffectMotion()</div><div class="ttdoc">Shifting of pixels. </div><div class="ttdef"><b>Definition:</b> <a href="DrOpenGL_8cpp_source.html#l00197">DrOpenGL.cpp:197</a></div></div>
<div class="ttc" id="classDraw_html_a60d9d96dd62e71bfe22654f9d58f834b"><div class="ttname"><a href="classDraw.html#a60d9d96dd62e71bfe22654f9d58f834b">Draw::keyboardDraw</a></div><div class="ttdeci">void keyboardDraw(unsigned char key)</div><div class="ttdoc">Combines the key with the functions. </div><div class="ttdef"><b>Definition:</b> <a href="DrawControl_8cpp_source.html#l00180">DrawControl.cpp:180</a></div></div>
<div class="ttc" id="classDraw_html_ab92a87c2480115eaf15a27a8fa0cd965"><div class="ttname"><a href="classDraw.html#ab92a87c2480115eaf15a27a8fa0cd965">Draw::ImWidth</a></div><div class="ttdeci">int ImWidth</div><div class="ttdoc">Width and height of the image. </div><div class="ttdef"><b>Definition:</b> <a href="Draw_8h_source.html#l00153">Draw.h:153</a></div></div>
<div class="ttc" id="structSPLINE_html_aac922a785af4fb14fc828152cd94c34e"><div class="ttname"><a href="structSPLINE.html#aac922a785af4fb14fc828152cd94c34e">SPLINE::a3</a></div><div class="ttdeci">double a3</div><div class="ttdoc">a0 + a1*x + a2*x^2 + a3*x^3 + a4^4 </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaStruct_8h_source.html#l00112">MatematicaStruct.h:112</a></div></div>
<div class="ttc" id="classMatrice_html_a109318636af36bc89e9853f19e4369e2"><div class="ttname"><a href="classMatrice.html#a109318636af36bc89e9853f19e4369e2">Matrice::Transpose</a></div><div class="ttdeci">void Transpose()</div><div class="ttdoc">Transpose the matrix. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaAlgebra_8cpp_source.html#l00760">MatematicaAlgebra.cpp:760</a></div></div>
<div class="ttc" id="classDrEffect_html_ae52c5b89d732c8cd4c027c2e6d82be39"><div class="ttname"><a href="classDrEffect.html#ae52c5b89d732c8cd4c027c2e6d82be39">DrEffect::EffectMC</a></div><div class="ttdeci">void EffectMC()</div><div class="ttdoc">Applies a random disposition of blocks. </div><div class="ttdef"><b>Definition:</b> <a href="DrOpenGL_8cpp_source.html#l00068">DrOpenGL.cpp:68</a></div></div>
<div class="ttc" id="classMatrice_html_a2a233d9af97c320a1b372ededf056886"><div class="ttname"><a href="classMatrice.html#a2a233d9af97c320a1b372ededf056886">Matrice::Val</a></div><div class="ttdeci">double Val(int row)</div><div class="ttdoc">Returns a value in 1d. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaAlgebra_8cpp_source.html#l00456">MatematicaAlgebra.cpp:456</a></div></div>
<div class="ttc" id="classDrEffect_html_a98b1050f09da390896f964fb7a892391"><div class="ttname"><a href="classDrEffect.html#a98b1050f09da390896f964fb7a892391">DrEffect::Initialize</a></div><div class="ttdeci">void Initialize()</div><div class="ttdef"><b>Definition:</b> <a href="DrDefinition_8cpp_source.html#l00003">DrDefinition.cpp:3</a></div></div>
<div class="ttc" id="classDrEffect_html_a62e60652a984dcd65b592fde6e89ddbc"><div class="ttname"><a href="classDrEffect.html#a62e60652a984dcd65b592fde6e89ddbc">DrEffect::EffectFilter</a></div><div class="ttdeci">void EffectFilter()</div><div class="ttdoc">Applies a filter to pixel. </div><div class="ttdef"><b>Definition:</b> <a href="DrOpenGL_8cpp_source.html#l00168">DrOpenGL.cpp:168</a></div></div>
<div class="ttc" id="structSPLINE_html_ac55c2d269ed76bd9bdb7fb25f3533a4e"><div class="ttname"><a href="structSPLINE.html#ac55c2d269ed76bd9bdb7fb25f3533a4e">SPLINE::a2</a></div><div class="ttdeci">double a2</div><div class="ttdoc">a0 + a1*x + a2*x^2 + a3*x^3 + a4^4 </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaStruct_8h_source.html#l00110">MatematicaStruct.h:110</a></div></div>
<div class="ttc" id="structSPLINE_html_a5d015a3751aec61f2442b957cb6f517a"><div class="ttname"><a href="structSPLINE.html#a5d015a3751aec61f2442b957cb6f517a">SPLINE::a1</a></div><div class="ttdeci">double a1</div><div class="ttdoc">a0 + a1*x + a2*x^2 + a3*x^3 + a4^4 </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaStruct_8h_source.html#l00108">MatematicaStruct.h:108</a></div></div>
<div class="ttc" id="classMatrice_html"><div class="ttname"><a href="classMatrice.html">Matrice</a></div><div class="ttdoc">Matrice computes the algebric operations on matrices. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaMatrix_8h_source.html#l00010">MatematicaMatrix.h:10</a></div></div>
<div class="ttc" id="classMatrice_html_a3caf89cd6f9ccd16fcdc6a6c57039c2f"><div class="ttname"><a href="classMatrice.html#a3caf89cd6f9ccd16fcdc6a6c57039c2f">Matrice::Set</a></div><div class="ttdeci">bool Set(int row, int column, double Val)</div><div class="ttdoc">Set a coefficient. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaAlgebra_8cpp_source.html#l00476">MatematicaAlgebra.cpp:476</a></div></div>
<div class="ttc" id="classDraw_html_a20146731f2945f9b0c25d61e11bb0217"><div class="ttname"><a href="classDraw.html#a20146731f2945f9b0c25d61e11bb0217">Draw::Step</a></div><div class="ttdeci">int Step</div><div class="ttdoc">Current step for the picture&amp;#39;s name. </div><div class="ttdef"><b>Definition:</b> <a href="Draw_8h_source.html#l00244">Draw.h:244</a></div></div>
<div class="ttc" id="classMatematica_html_a486baea1c22d2accfe267ef415b3abaf"><div class="ttname"><a href="classMatematica.html#a486baea1c22d2accfe267ef415b3abaf">Matematica::ApplyFilter</a></div><div class="ttdeci">int ApplyFilter(Matrice *Point, Matrice *Res, Matrice *Mask)</div><div class="ttdoc">Applies the filter. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaFilter_8cpp_source.html#l00082">MatematicaFilter.cpp:82</a></div></div>
<div class="ttc" id="classDrEffect_html_aadc5a450e9bf79186f43915f10886c0d"><div class="ttname"><a href="classDrEffect.html#aadc5a450e9bf79186f43915f10886c0d">DrEffect::EffectIncrease</a></div><div class="ttdeci">void EffectIncrease()</div><div class="ttdoc">Increase the resolution. </div><div class="ttdef"><b>Definition:</b> <a href="DrOpenGL_8cpp_source.html#l00054">DrOpenGL.cpp:54</a></div></div>
<div class="ttc" id="classMatematica_html"><div class="ttname"><a href="classMatematica.html">Matematica</a></div><div class="ttdoc">Implementation of useful algorythms. </div><div class="ttdef"><b>Definition:</b> <a href="Matematica_8h_source.html#l00076">Matematica.h:76</a></div></div>
<div class="ttc" id="structSPLINE_html_ad95dcba445836b4ba94129111a4b888c"><div class="ttname"><a href="structSPLINE.html#ad95dcba445836b4ba94129111a4b888c">SPLINE::a0</a></div><div class="ttdeci">double a0</div><div class="ttdoc">a0 + a1*x + a2*x^2 + a3*x^3 + a4^4 </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaStruct_8h_source.html#l00106">MatematicaStruct.h:106</a></div></div>
<div class="ttc" id="structSPLINE_html"><div class="ttname"><a href="structSPLINE.html">SPLINE</a></div><div class="ttdoc">Coefficient of a spline. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaStruct_8h_source.html#l00104">MatematicaStruct.h:104</a></div></div>
<div class="ttc" id="classDraw_html_a289d8cd3100d77331ac7879eedcfcad0"><div class="ttname"><a href="classDraw.html#a289d8cd3100d77331ac7879eedcfcad0">Draw::WritePixel</a></div><div class="ttdeci">int WritePixel()</div><div class="ttdoc">Boh. </div><div class="ttdef"><b>Definition:</b> <a href="DrawFile_8cpp_source.html#l00186">DrawFile.cpp:186</a></div></div>
<div class="ttc" id="classDraw_html_a19d9a879122b0ab65c5e8e3731bd9467"><div class="ttname"><a href="classDraw.html#a19d9a879122b0ab65c5e8e3731bd9467">Draw::NLevel</a></div><div class="ttdeci">int NLevel</div><div class="ttdoc">Levels of the images data (usually 4=RGBA) </div><div class="ttdef"><b>Definition:</b> <a href="Draw_8h_source.html#l00256">Draw.h:256</a></div></div>
<div class="ttc" id="classMatrice_html_a9dcac18006ce057b8d78c847174c1362"><div class="ttname"><a href="classMatrice.html#a9dcac18006ce057b8d78c847174c1362">Matrice::Print</a></div><div class="ttdeci">void Print()</div><div class="ttdoc">Print the entries. </div><div class="ttdef"><b>Definition:</b> <a href="MatematicaAlgebra_8cpp_source.html#l00492">MatematicaAlgebra.cpp:492</a></div></div>
<div class="ttc" id="classDraw_html_a4fb2b9ce0df5949d526526b8710e4bf2"><div class="ttname"><a href="classDraw.html#a4fb2b9ce0df5949d526526b8710e4bf2">Draw::pixel</a></div><div class="ttdeci">GLubyte * pixel</div><div class="ttdoc">Principal image (always allocated) </div><div class="ttdef"><b>Definition:</b> <a href="Draw_8h_source.html#l00270">Draw.h:270</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
